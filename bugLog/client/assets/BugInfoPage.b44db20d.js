import{r as t,n as a,c as e,p as s,e as l,u as o,d,o as c,a as n,b as r,t as i,l as u,F as m,q as b,s as p,v as g,x as v,w as y}from"./vendor.57c849f3.js";import{b as h,P as f,A as w,n as x}from"./index.f5d85c0c.js";const C={name:"Info",setup(){const s=o(),l=t({report:{},newNote:{}});return a((async()=>{try{await h.getById(s.params.bugId),await h.getNotes(s.params.bugId)}catch(t){f.toast(t)}})),{state:l,bug:e((()=>w.activeBug)),notes:e((()=>w.notes)),account:e((()=>w.account)),async edit(){try{await h.edit(l.report,s.params.bugId),await h.getById(s.params.bugId),l.report={}}catch(t){f.toast(t)}},async create(){try{l.newNote.bug=w.activeBug.id,await x.create(l.newNote),await h.getNotes(s.params.bugId),l.newNote={}}catch(t){f.toast(t)}},async close(t){try{await f.confirm("Ready To Close?","This cannot be reverted!","warning","Yes, Close It!")&&(await h.destroy(t),await h.getById(t))}catch(a){f.toast(a)}}}}},N=y();s("data-v-1318b96e");const I={class:"row justify-content-center"},B={class:"col-md-11"},j=r("h6",{class:"pt-5"}," Title ",-1),k={class:"pl-2"},E={class:"row pt-3 justify-content-center"},S={class:"col-md-9 col-12 d-flex"},T={class:"row"},L=r("div",{class:"col"},[r("h6",{class:"pt-2"}," Reported By: ")],-1),A={class:"pl-3"},D={class:"col-md-2 d-flex justify-content-md-end "},F=r("h6",{class:"pt-2"}," Status: ",-1),R={key:0,class:"pl-4 text-green"},U={key:1,class:"pl-4 text-red"},V={class:"row justify-content-center"},q={class:"col-md-11 col-11 border border-dark bg-light"},_={class:"pt-3 pb-2"},M={class:"row justify-content-center"},O={class:"col-md-11 col-11 mt-3"},P={class:"row"},Y={class:"col-md-6 col-6"},z={key:0,type:"button",class:"btn btn-dark","data-toggle":"modal","data-target":"#Edit"},G={class:"col-md-6 col-6 d-flex justify-content-end"},H={class:"row mt-4 justify-content-center mb-2"},J={class:"col-md-10 col-10"},K={class:"row"},Q=r("h3",{class:"pr-3"}," Notes ",-1),W={key:0,class:"text-light action bg-green rounded px-2","data-toggle":"modal","data-target":"#CreateNote"},X=r("div",{class:"row bg-dark text-light"},[r("div",{class:"col-md-3 col-12 pt-2"},[r("h5",null,"Name")]),r("div",{class:"col-md-8 col-12 pt-2"},[r("h5",null,"Message")]),r("div",{class:"col-md-1 col-12 pt-2"},[r("h5",null,"Delete")])],-1),Z={class:"modal fade",id:"Edit",tabindex:"-1","aria-labelledby":"EditLabel","aria-hidden":"true"},$={class:"modal-dialog modal-dialog-centered"},tt={class:"modal-content"},at=r("div",{class:"modal-header"},[r("h5",{class:"modal-title",id:"EditLabel"}," Edit Bug Report "),r("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[r("span",{"aria-hidden":"true"},"×")])],-1),et={class:"modal-body"},st={class:"form-group"},lt=r("label",{for:"exampleFormControlInput1"},"Title",-1),ot={class:"form-group"},dt=r("label",{for:"BugDescription"},"Bug Infomation",-1),ct=r("hr",null,null,-1),nt=r("div",{class:"d-flex justify-content-end"},[r("button",{type:"submit","data-toggle":"modal","data-target":"#Edit",class:"btn btn-primary mr-3"}," Submit "),r("button",{type:"button",class:"btn btn-light","data-dismiss":"modal"}," Close ")],-1),rt={class:"modal fade",id:"CreateNote",tabindex:"-1","aria-labelledby":"CreateNoteLabel","aria-hidden":"true"},it={class:"modal-dialog modal-dialog-centered"},ut={class:"modal-content"},mt=r("div",{class:"modal-header"},[r("h5",{class:"modal-title",id:"CreateNoteLabel"}," Add Note "),r("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[r("span",{"aria-hidden":"true"},"×")])],-1),bt={class:"modal-body"},pt={class:"form-group"},gt=r("label",{for:"NoteComment"},"Comment",-1),vt=r("hr",null,null,-1),yt=r("div",{class:"d-flex justify-content-end"},[r("button",{type:"submit","data-toggle":"modal","data-target":"#CreateNote",class:"btn btn-primary mr-3"}," Submit "),r("button",{type:"button",class:"btn btn-light","data-dismiss":"modal"}," Close ")],-1);l();const ht=N(((t,a,e,s,l,o)=>{var y;const h=d("NoteCard");return c(),n(m,null,[r("div",I,[r("div",B,[j,r("h1",k,i(s.bug.title),1)])]),r("div",E,[r("div",S,[r("div",T,[L,r("h3",A,i(null==(y=s.bug.creator)?void 0:y.name),1)])]),r("div",D,[F,!1===s.bug.closed?(c(),n("h3",R," Open ")):(c(),n("h3",U," Closed "))])]),r("div",V,[r("div",q,[r("h6",_,i(s.bug.description),1)])]),r("div",M,[r("div",O,[r("div",P,[r("div",Y,[s.bug.creatorId===s.account.id&!1===s.bug.closed?(c(),n("button",z," Edit ")):u("",!0)]),r("div",G,[s.bug.creatorId===s.account.id&!1===s.bug.closed?(c(),n("button",{key:0,type:"button",class:"btn btn-danger",onClick:a[1]||(a[1]=t=>s.close(s.bug.id))}," Close ")):u("",!0)])])])]),r("div",H,[r("div",J,[r("div",K,[Q,!1===s.bug.closed?(c(),n("h3",W," Add ")):u("",!0)]),X,r("div",null,[(c(!0),n(m,null,b(s.notes,(t=>(c(),n(h,{key:t.id,note:t},null,8,["note"])))),128))])])]),r("div",Z,[r("div",$,[r("div",tt,[at,r("div",et,[r("form",{onSubmit:a[4]||(a[4]=p((t=>s.edit()),["prevent"]))},[r("div",st,[lt,g(r("input",{type:"text",class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":a[2]||(a[2]=t=>s.state.report.title=t),maxlength:"28",placeholder:"New Bug Title..."},null,512),[[v,s.state.report.title]])]),r("div",ot,[dt,g(r("textarea",{class:"form-control",id:"BugDescription","onUpdate:modelValue":a[3]||(a[3]=t=>s.state.report.description=t),placeholder:"New Bug Info...",maxlength:"1000",rows:"4"},null,512),[[v,s.state.report.description]])]),ct,nt],32)])])])]),r("div",rt,[r("div",it,[r("div",ut,[mt,r("div",bt,[r("form",{onSubmit:a[6]||(a[6]=p((t=>s.create()),["prevent"]))},[r("div",pt,[gt,g(r("textarea",{class:"form-control",id:"NoteComment","onUpdate:modelValue":a[5]||(a[5]=t=>s.state.newNote.body=t),placeholder:"Comment...",rows:"4",maxlength:"250",required:""},null,512),[[v,s.state.newNote.body]])]),vt,yt],32)])])])])],64)}));C.render=ht,C.__scopeId="data-v-1318b96e";export default C;
